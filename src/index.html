<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Markdown Viewer</title>
    <script src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script src="https://unpkg.com/dompurify@3.2.6/dist/purify.min.js"></script>
    <script type="module" src="/main.js" defer></script>
  </head>

  <body>
    <div class="app">
      <header class="header">
        <h1>Markdown Viewer</h1>
        <div class="controls">
          <input type="file" id="file-input" accept=".md,.markdown,.mdown,.mkd" style="display: none;" />
          <div class="split-button">
            <button id="open-file-btn" class="btn split-btn-main">Open File</button>
            <button id="recent-files-btn" class="btn split-btn-dropdown" title="Recent Files">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                <path d="M2 4l4 4 4-4z"/>
              </svg>
            </button>
          </div>
          <button id="sample-btn" class="btn btn-secondary">Try Sample</button>
          <div class="zoom-controls" id="zoom-controls" style="display: none;">
            <button id="zoom-out-btn" class="btn btn-secondary zoom-btn" title="Zoom Out (Ctrl+-)">‚àí</button>
            <span id="zoom-level" class="zoom-level">100%</span>
            <button id="zoom-in-btn" class="btn btn-secondary zoom-btn" title="Zoom In (Ctrl++)">+</button>
            <button id="zoom-reset-btn" class="btn btn-secondary zoom-btn" title="Reset Zoom">‚åÇ</button>
          </div>
          <button id="export-html-btn" class="btn btn-secondary" style="display: none;">Export HTML</button>
        </div>
      </header>
      
      <main class="main">
        <div class="welcome" id="welcome-screen">
          <h2>Welcome to Markdown Viewer</h2>
          <p>Click "Open File" to load a markdown file, drag and drop a file here, or try the sample.</p>
          <div class="welcome-actions">
            <button class="btn btn-large" onclick="document.querySelector('#open-file-btn').click()">
              üìÅ Open File
            </button>
            <button class="btn btn-secondary btn-large" onclick="document.querySelector('#sample-btn').click()">
              üìÑ Try Sample
            </button>
          </div>
        </div>
        
        <div class="viewer" id="markdown-viewer" style="display: none;">
          <div class="content" id="markdown-content"></div>
        </div>
      </main>
    </div>
  </body>
</html>
