<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Markdown Viewer</title>
    <script src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js" 
            integrity="sha384-+NGfjU8KzpDLXRHduEqW+ZiJr2rIg+cidUVk7B51R5xK7cHwMKQfrdFwGdrq1Bcz" 
            crossorigin="anonymous"></script>
    <script src="https://unpkg.com/dompurify@3.2.6/dist/purify.min.js" 
            integrity="sha384-JEyTNhjM6R1ElGoJns4U2Ln4ofPcqzSsynQkmEc/KGy6336qAZl70tDLufbkla+3" 
            crossorigin="anonymous"></script>
    <script src="https://unpkg.com/docx@7.8.2/build/index.js" 
            integrity="sha384-zjTqOObJTD6OT6CUn8mSpDY+crIiP0cX457OjcZosSATiUFbmdXa9KRScjfLVxFH" 
            crossorigin="anonymous"></script>
    <script src="https://unpkg.com/pizzip@3.1.4/dist/pizzip.js" crossorigin="anonymous"></script>
    <!-- Highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/github.min.css" 
          id="highlight-theme-light" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/github-dark.min.css" 
          id="highlight-theme-dark" disabled crossorigin="anonymous">
    <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js" 
            integrity="sha384-F/bZzf7p3Joyp5psL90p/p89AZJsndkSoGwRpXcZhleCWhd8SnRuoYo4d0yirjJp" 
            crossorigin="anonymous"></script>
    <script src="https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    <script src="/docx-generator.js"></script>
    <script src="/syntax-highlighting.js"></script>
    <script type="module" src="/main.js" defer></script>
  </head>

  <body>
    <div class="app">
      <header class="header">
        <h1>Markdown Viewer</h1>
        <div class="controls">
          <input type="file" id="file-input" accept=".md,.markdown,.mdown,.mkd" style="display: none;" />
          <div class="split-button">
            <button id="open-file-btn" class="btn split-btn-main">Open File</button>
            <button id="recent-files-btn" class="btn split-btn-dropdown" title="Recent Files">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                <path d="M2 4l4 4 4-4z"/>
              </svg>
            </button>
          </div>
          <button id="sample-btn" class="btn btn-secondary">Try Sample</button>
          <div class="zoom-controls" id="zoom-controls" style="display: none;">
            <button id="zoom-out-btn" class="btn btn-secondary zoom-btn" title="Zoom Out (Ctrl+-)">‚àí</button>
            <span id="zoom-level" class="zoom-level">100%</span>
            <button id="zoom-in-btn" class="btn btn-secondary zoom-btn" title="Zoom In (Ctrl++)">+</button>
            <button id="zoom-reset-btn" class="btn btn-secondary zoom-btn" title="Reset Zoom">‚åÇ</button>
          </div>
          <div class="split-button" id="export-button-group" style="display: none;">
            <button id="export-main-btn" class="btn btn-secondary split-btn-main">Export</button>
            <button id="export-dropdown-btn" class="btn btn-secondary split-btn-dropdown" title="Export Options">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                <path d="M2 4l4 4 4-4z"/>
              </svg>
            </button>
            <div class="dropdown-menu" id="export-dropdown-menu">
              <button class="dropdown-item" id="export-html-btn">Export as HTML</button>
              <button class="dropdown-item" id="export-docx-btn">Export as DOCX</button>
              <button class="dropdown-item" id="print-pdf-btn">Print to PDF</button>
            </div>
          </div>
        </div>
      </header>
      
      <main class="main">
        <div class="welcome" id="welcome-screen">
          <h2>Welcome to Markdown Viewer</h2>
          <p>Click "Open File" to load a markdown file, drag and drop a file here, or try the sample.</p>
          <div class="welcome-actions">
            <button class="btn btn-large" id="welcome-open-btn">
              üìÅ Open File
            </button>
            <button class="btn btn-secondary btn-large" id="welcome-sample-btn">
              üìÑ Try Sample
            </button>
          </div>
        </div>
        
        <div class="viewer" id="markdown-viewer" style="display: none;">
          <div class="content" id="markdown-content"></div>
        </div>
      </main>
    </div>
  </body>
</html>
